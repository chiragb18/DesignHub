<div class="editor-shell">
    <!-- Full Width Top Navbar -->
    <app-navbar class="top-nav"></app-navbar>

    <div class="main-layout">
        <!-- New Left Nav Sidebar -->
        <div class="nav-sidebar">
            <button [class.active]="bannerService.activeTab() === 'templates'"
                (click)="bannerService.activeTab.set('templates')" title="Templates">
                <span class="material-symbols-outlined">grid_view</span>
            </button>
            <button [class.active]="bannerService.activeTab() === 'text'" (click)="bannerService.activeTab.set('text')"
                title="Text">
                <span class="material-symbols-outlined">title</span>
            </button>
            <button [class.active]="bannerService.activeTab() === 'elements'"
                (click)="bannerService.activeTab.set('elements')" title="Elements">
                <span class="material-symbols-outlined">auto_awesome_motion</span>
            </button>
            <button [class.active]="bannerService.activeTab() === 'cutouts'"
                (click)="bannerService.activeTab.set('cutouts')" title="Cutouts">
                <span class="material-symbols-outlined">content_cut</span>
            </button>
            <button [class.active]="bannerService.activeTab() === 'filters'"
                (click)="bannerService.activeTab.set('filters')" title="Filters">
                <span class="material-symbols-outlined">magic_button</span>
            </button>
            <button [class.active]="bannerService.activeTab() === 'background'"
                (click)="bannerService.activeTab.set('background')" title="Background">
                <span class="material-symbols-outlined">palette</span>
            </button>
            <button [class.active]="bannerService.activeTab() === 'layers'"
                (click)="bannerService.activeTab.set('layers')" title="Layers">
                <span class="material-symbols-outlined">layers</span>
            </button>

            <!-- Projects Tab (At the last) -->
            <div class="nav-spacer"></div>
            <button [class.active]="bannerService.activeTab() === 'projects'"
                (click)="bannerService.activeTab.set('projects')" title="Saved Projects">
                <span class="material-symbols-outlined">folder</span>
            </button>
        </div>

        <!-- Center Workspace -->
        <div class="center-content">
            <app-canvas-editor></app-canvas-editor>

            <!-- Floating Zoom Controls -->
            <!-- <div class="floating-zoom-bar">
                <button (click)="bannerService.zoomOut()" title="Zoom Out">
                    <span class="material-symbols-outlined">remove</span>
                </button>
                <div class="zoom-value" (click)="bannerService.resetZoom()">
                    {{ (bannerService.zoomLevel() * 100).toFixed(0) }}%
                </div>
                <button (click)="bannerService.zoomIn()" title="Zoom In">
                    <span class="material-symbols-outlined">add</span>
                </button>
                <div class="zoom-divider"></div>
                <button (click)="bannerService.resetZoom()" title="Reset Zoom">
                    <span class="material-symbols-outlined">aspect_ratio</span>
                </button>
            </div> -->

            <!-- Template Info Banner -->
            <div class="template-info-banner" *ngIf="bannerService.showTemplateInfo()">
                <span class="material-symbols-outlined icon">info</span>
                All elements in this template are editable
            </div>

            <!-- Template Helper Action -->
            <div class="template-helper-action" *ngIf="bannerService.showTemplateInfo()">
                <button (click)="bannerService.addTextWithStyle()" class="btn-helper">
                    <span class="material-symbols-outlined">add_circle</span>
                    Add text with same style
                </button>
            </div>
        </div>

        <!-- Sidebar Resizer -->
        <div class="sidebar-resizer" (mousedown)="startResizing($event)" (dblclick)="resetSidebar()">
            <div class="resizer-inner"></div>
        </div>

        <!-- Right Property Sidebar -->
        <app-right-sidebar [style.width.px]="sidebarWidth"></app-right-sidebar>
    </div>
</div>